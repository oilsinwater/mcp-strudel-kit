# Strudel Kit MCP Server Environment Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port and host
PORT=3000
HOST=localhost

# Node.js environment
NODE_ENV=development

# Server instance identifier (useful for load balancing)
INSTANCE_ID=mcp-server-1

# =============================================================================
# MCP SERVER SETTINGS
# =============================================================================

# Maximum execution timeout for tools (milliseconds)
TOOL_EXECUTION_TIMEOUT=30000

# Maximum concurrent tool executions
MAX_CONCURRENT_TOOLS=10

# Enable hot reloading for tool discovery
HOT_RELOAD_ENABLED=true

# Tool auto-discovery scan interval (milliseconds)
TOOL_SCAN_INTERVAL=5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# Enable request/response logging
LOG_REQUESTS=true

# Log file path (leave empty for console only)
LOG_FILE_PATH=

# Maximum log file size before rotation (bytes)
LOG_MAX_SIZE=10485760

# Number of rotated log files to keep
LOG_MAX_FILES=5

# =============================================================================
# DATA PERSISTENCE
# =============================================================================

# Data storage base path
DATA_PATH=./data

# Persistence strategy: file-only, file-with-cache, file-with-database
PERSISTENCE_STRATEGY=file-with-cache

# Enable data compression
ENABLE_COMPRESSION=false

# Enable data encryption at rest
ENABLE_ENCRYPTION=false

# Temporary file TTL (milliseconds)
TEMP_FILE_TTL=3600000

# Project retention period (days)
PROJECT_RETENTION_DAYS=30

# Enable automatic cleanup
AUTO_CLEANUP=true

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Enable in-memory caching
CACHE_ENABLED=true

# Maximum cache entries
CACHE_MAX_SIZE=1000

# Default cache TTL (milliseconds)
CACHE_TTL=300000

# Cache cleanup interval (milliseconds)
CACHE_CLEANUP_INTERVAL=60000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Enable authentication
AUTH_ENABLED=false

# JWT secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-here

# JWT expiration time
JWT_EXPIRES_IN=24h

# API rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=100

# Rate limit window (milliseconds)
RATE_LIMIT_WINDOW=60000

# Enable CORS
CORS_ENABLED=true

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Maximum request body size
MAX_REQUEST_SIZE=10mb

# =============================================================================
# STRUDEL KIT INTEGRATION
# =============================================================================

# Strudel Kit CLI command path
STRUDEL_CLI_PATH=strudel

# Default Strudel Kit template
DEFAULT_TEMPLATE=basic-scientific

# Strudel Kit CLI timeout (milliseconds)
STRUDEL_CLI_TIMEOUT=60000

# Enable Strudel Kit CLI output capture
CAPTURE_CLI_OUTPUT=true

# =============================================================================
# SCIENTIFIC DATA PROCESSING
# =============================================================================

# Maximum file size for processing (bytes)
MAX_FILE_SIZE=104857600

# Supported data formats (comma-separated)
SUPPORTED_FORMATS=csv,json,hdf5,netcdf

# Data processing chunk size
DATA_CHUNK_SIZE=1000

# Enable data schema inference
ENABLE_SCHEMA_INFERENCE=true

# Schema inference confidence threshold
SCHEMA_CONFIDENCE_THRESHOLD=0.8

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# External API timeout (milliseconds)
EXTERNAL_API_TIMEOUT=10000

# Retry attempts for external services
EXTERNAL_API_RETRIES=3

# Retry delay (milliseconds)
EXTERNAL_API_RETRY_DELAY=1000

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

# Enable performance monitoring
MONITORING_ENABLED=true

# Metrics collection interval (milliseconds)
METRICS_INTERVAL=60000

# Performance alert thresholds
MEMORY_ALERT_THRESHOLD=512

# Tool execution time alert threshold (milliseconds)
EXECUTION_TIME_ALERT_THRESHOLD=5000

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Health check interval (milliseconds)
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development mode features
DEVELOPMENT_MODE=true

# Enable debug endpoints
DEBUG_ENDPOINTS=true

# Enable mock external services
MOCK_EXTERNAL_SERVICES=false

# Mock service port
MOCK_SERVICE_PORT=3001

# Enable request tracing
REQUEST_TRACING=false

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test environment data path
TEST_DATA_PATH=./test-data

# Enable test mode features
TEST_MODE=false

# Test timeout (milliseconds)
TEST_TIMEOUT=30000

# =============================================================================
# DATABASE CONFIGURATION (Optional)
# =============================================================================

# Database URL (leave empty to use file-only persistence)
DATABASE_URL=

# Database adapter: postgresql, sqlite, mongodb
DB_ADAPTER=postgresql

# Database connection pool size
DB_POOL_SIZE=10

# Database connection timeout (milliseconds)
DB_CONNECTION_TIMEOUT=5000

# Database query timeout (milliseconds)
DB_QUERY_TIMEOUT=10000

# Enable database migrations
DB_MIGRATIONS_ENABLED=true

# =============================================================================
# CLOUD STORAGE (Optional)
# =============================================================================

# Cloud storage provider: s3, gcs, azure
CLOUD_STORAGE_PROVIDER=

# S3 Configuration
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=

# Google Cloud Storage Configuration
GOOGLE_CLOUD_PROJECT_ID=
GOOGLE_CLOUD_KEY_FILE=
GCS_BUCKET_NAME=

# Azure Storage Configuration
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_CONTAINER_NAME=

# =============================================================================
# ERROR REPORTING
# =============================================================================

# Error reporting service: sentry, rollbar, none
ERROR_REPORTING=none

# Sentry DSN
SENTRY_DSN=

# Error sampling rate (0.0 to 1.0)
ERROR_SAMPLE_RATE=1.0

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable experimental features
EXPERIMENTAL_FEATURES=false

# Enable new tool auto-discovery
ENABLE_NEW_TOOL_DISCOVERY=true

# Enable workflow generation
ENABLE_WORKFLOW_GENERATION=false

# Enable advanced data processing
ENABLE_ADVANCED_DATA_PROCESSING=false